# Лабораторная работа №2 "Хранение и извлечение данных с использованием значений, представленных литералами и переменными, в C#"

Многим приложениям, которые вы будете создавать на C#, потребуется работать с данными. В некоторых случаях значения данных жестко задаются в самом приложении. Жестко закодированные значения — это значения, которые являются постоянными и неизменными на протяжении всего выполнения программы. Например, вы можете показывать пользователю сообщение об успешном выполнении какой-либо операции. Скорее всего, текст этого сообщения во всех случаях будет одинаковым. Это жестко закодированное значение также можно назвать константой или литеральным значением.

Допустим, вам необходимо показывать конечному пользователю форматированное сообщение, которое может содержать данные разных типов. Сообщение будет содержать жестко закодированные строки в сочетании с информацией, которую приложение собирает от пользователя. Для вывода форматированного сообщения вам потребуется определить жестко заданные значения, а также переменные, в которых будут храниться данные нужного типа, например числовые, буквенно-цифровые и т. д.

В этом модуле вы создадите литеральные значения, содержащие различные типы данных. Также вы создадите переменные для хранения данных определенных типов, присвоите им значения, а затем извлечете эти значения для последующего использования в коде. Наконец, вы ознакомитесь с некоторыми способами оптимизации кода, при которых часть задач поручается компилятору.

После завершения этого модуля вы сможете создавать литеральные значения, а также сохранять и извлекать данные в переменных.

## Цели обучения

В этом модуле вы узнаете, как выполнять следующие задачи:

- Создание литеральных значений пяти основных типов данных
- Объявление и инициализация переменных
- Извлечение и установка значений переменных
- Разрешение компилятору определять тип данных переменной при инициализации

## Предварительные требования

- Понимание основных правил синтаксиса C#
- Необходимо понимать, как использовать [Console.WriteLine()](https://learn.microsoft.com/ru-ru/dotnet/api/system.console.writeline#system-console-writeline)
- Опыт работы с средой разработки на начальном уровне

# Упражнение. Печать литеральных значений

В этом упражнении вы распечатаете сообщения, содержащие другие типы данных, и узнаете, почему типы данных так важны в C#.

## Что такое литеральное значение?

Литеральное значение — это постоянное значение, которое никогда не изменяется. Ранее вы отображали строку литерала в консоли вывода. Иными словами, вы буквально хотели, чтобы строка буквенно-цифровых символов `H`, `e`, `l`, `l`, `o`и т. д. отображалась в консоли вывода.

Используйте строковый тип данных всякий раз, когда у вас есть буквенно-цифровые слова, фразы или данные для представления, а не вычисления. Какие еще типы литеральных данных можно распечатать для вывода?

## Упражнение. Печать разных литеральных типов данных

В C# предусмотрено множество различных типов данных. Тем не менее для начала работы вам достаточно знать всего пять-шесть основных типов данных, которые применяются в большинстве сценариев. Давайте выведем литеральный экземпляр типа данных для вывода.

> При работе в окне кода вы могли заметить, что некоторые элементы синтаксиса, такие как ключевые слова, операторы, типы данных и т. д., выделяются цветом. Мы рекомендуем вам запомнить используемые цветовые сочетания. Это позволит вам быстрее замечать синтаксические ошибки во время ввода символов и лучше понимать код.

### Использование символьных литералы

Если требуется вывести на экран только один буквенно-цифровой символ, можно создать **литерал символа char** , окружив один буквенно-цифровой символ в одинарные кавычки. Термин `char` является коротким для _символа_. В C# этот тип данных официально называется char, но часто называется символом.

1.  Добавьте следующую строку кода в редакторе:
    ```c#
    Console.WriteLine('b');
    ```
2.  Просмотрите введенный код.

    Обратите внимание, что буква `b` заключена в одинарные кавычки `'b'`. Одинарные кавычки создают символьный литерал. Помните, что при использовании двойных кавычек создается `string` тип данных.

3.  Нажмите зеленую кнопку Выполнить, чтобы запустить код. В окне вывода должен отобразиться следующий результат:

    ```
    b
    ```

Если ввести следующий код:

```c#
Console.WriteLine('Hello World!');
```

Вы получите следующую ошибку:

```
(1,19): error CS1012: Too many characters in character literal
```

Обратите внимание на одинарные кавычки, окружающие `Hello World!`. При использовании одинарных кавычек компилятор C# ожидает один символ. Однако в этом случае использовался синтаксис символьного литерала, но вместо него было указано 12 символов!

Как и тип `string` данных, вы используете `char` каждый раз, когда для представления (не вычисления) используется один буквенно-цифровой символ.

### Использование целочисленных литералы

Если вы хотите отобразить в консоли вывода числовое целое число (без дробей), можно использовать **литерал int**. Термин `int` является коротким для целого числа, которое вы можете распознать при изучении математики. В C# этот тип данных официально называется int, но часто называется integer. Литерал `int` не требует других операторов, таких `string` как или `char`.

1.  Добавьте следующую строку кода в редакторе:

    ```c#
    Console.WriteLine(123);
    ```

2.  Нажмите зеленую кнопку Выполнить, чтобы запустить код. В выходной консоли должен отобразиться следующий результат:

    ```c#
    123
    ```

### Использование литералы с плавающей запятой

Число с плавающей запятой — это число, содержащее десятичное число, например 3,14159. C# поддерживает три типа данных для представления десятичных чисел: `float`, `double`и `decimal`. Каждый тип поддерживает разную степень точности.

```
Float Type    Precision
----------------------------
float         ~6-9 digits
double        ~15-17 digits
decimal        28-29 digits

```

Здесь точность отражает число цифр после десятичного разряда, которые являются точными.

1.  Добавьте следующую строку кода в редакторе:

    ```c#
    Console.WriteLine(0.25F);
    ```

    Чтобы создать `float` литерал, добавьте букву `F` после цифры. В этом контексте буква `F` называется _литеральным суффиксом_. Литеральный суффикс сообщает компилятору, с которым вы хотите работать со значением `float` типа . В качестве литерального суффикса для можно использовать нижний `f` или верхний `float`регистр`F`.

2.  Нажмите зеленую кнопку Выполнить, чтобы запустить код. В выходной консоли должен отобразиться следующий результат:

    ```
    0.25
    ```

    Обратите внимание, что `float` тип данных является наименее точным, поэтому рекомендуется использовать этот тип данных для фиксированных дробных значений, чтобы избежать непредвиденных ошибок вычислений.

3.  Добавьте следующую строку кода в редакторе:

    ```c#
    Console.WriteLine(2.625);

    ```

    Чтобы создать `double` литерал, просто введите десятичное число. Компилятор по умолчанию использует `double` литерал при вводе десятичного числа без литерального суффикса.

4.  Нажмите зеленую кнопку Выполнить, чтобы запустить код. В окне вывода должен отобразиться следующий результат:

    ```
    2.625
    ```

5.  Добавьте следующую строку кода в редакторе:

    ```c#
    Console.WriteLine(12.39816m);
    ```

    Чтобы создать его, добавьте после числа букву `m`. В этом контексте буква `m` называется _литеральным суффиксом_. Литеральный суффикс сообщает компилятору, с которым вы хотите работать со значением `decimal` типа . В качестве литерального суффикса для можно использовать нижний `m` или верхний `decimal`регистр`M`.

6.  Нажмите зеленую кнопку Выполнить, чтобы запустить код. В выходной консоли должен отобразиться следующий результат:

    ```
    12.39816
    ```

### Использование логических литералов

Если вы хотите напечатать значение, представляющее `true` или `false`, можно использовать **логический литерал**.

`bool` Термин является коротким для _boolean_. В C# они официально называются "bool", но часто разработчики используют термин "boolean".

1.  Добавьте следующие строки кода в редакторе:

    ```c#
    Console.WriteLine(true);
    Console.WriteLine(false);
    ```

2.  Нажмите зеленую кнопку Выполнить, чтобы запустить код. В выходной консоли должен отобразиться следующий результат:

    ```
    True
    False
    ```

Литералы `bool` представляют идею истины и лжи. Значения будут широко использоваться `bool` при добавлении логики принятия решений в приложения. Вы оцените выражения, чтобы узнать, является ли выражение истинным или ложным.

### Почему типам данных уделяется такое внимание?

Типы данных играют ключевую роль в языке C#. На самом деле акцент на типах данных является одной из ключевых отличительных особенностей C# по сравнению с другими языками, такими как JavaScript. Создатели языка C# уверены, что _принудительное применение_ типов данных позволит разработчикам программного обеспечения избежать распространенных ошибок. По мере дальнейшего знакомства с языком C# вы узнаете больше о концепции применения типов данных.

### Типы данных определяют возможности

Ранее вы видели, что `string`и `char`используются для "представления, а не вычисления". Если вы хотите выполнить математическую операцию с числовыми значениями, вам потребуется тип `int` или `decimal`. Если у вас есть данные, используемые для представления или обработки текста, следует использовать `string` тип данных или `char` .

Предположим, вам нужно было собрать данные от пользователя, например номер телефона или почтовый индекс. В зависимости от страны или региона, где вы проживаете, эти данные могут состоять из числовых символов. Тем не менее, поскольку вам вряд ли потребуется выполнять математические операции с номерами телефонов или почтовыми индексами, для работы с ними рекомендуется использовать тип данных `string`.

То же можно сказать и о типе `bool`. Если в вашем приложении требуется работать со словами `"true"` и `"false"`, следует использовать тип `string`. Однако если значения `true` или `false` будут использоваться в вычислениях, то необходимо выбрать тип `bool`.

Важно помнить, что эти значения могут выглядеть так же, как эквивалентные им строковые литералы. Другими словами, существует риск спутать их:

```сы
Console.WriteLine("123");
Console.WriteLine(123);

Console.WriteLine("true");
Console.WriteLine(true);
```

Однако похожими кажутся только отображаемые выходные данные. Операции, которые вы можете выполнять со значениями типа `int` или `bool`, отличаются от того, что можно делать с их эквивалентами типа `string`.

## Резюме

Main вывод заключается в том, что существует множество типов данных, но пока вы сосредоточитесь на некоторых из них:

- `string` используется для вывода слов, фраз и любых других буквенно-цифровых данных, но не для выполнения вычислений с ними;
- `char` представляет отдельную букву или цифру;
- `int` представляет целое число;
- `decimal` для числа с дробным компонентом
- ` bool``true `/`false` для значения

# Объявление переменных

Литерал представляет собой _жестко заданное_ значение. Жестко закодированные значения — это значения, которые являются постоянными и неизменными на протяжении всего выполнения программы. Однако большинству приложений потребуется работать со значениями, о которых вы не знаете заранее. Иными словами, вам потребуется работать с данными, поступающими от пользователей, из файлов или из сети.

Если вам нужно работать с данными, которые не жестко заданы, вы объявите переменную.

## Что такое переменная?

**Переменная** — это контейнер для хранения типа значения. Переменные важны, так как их значения могут изменяться или меняться на протяжении всего выполнения программы. Переменные можно назначать, считывать и изменять. Переменные используются для хранения значений, которые планируется использовать в коде.

Имя переменной — это удобная метка, которую компилятор назначает адресу памяти. Если вы хотите сохранить или изменить значение в этом адресе памяти или получить сохраненное значение, просто используйте имя созданной переменной.

### Объявление переменной

Чтобы создать новую переменную, необходимо сначала объявить тип данных переменной, а затем присвоить ей имя.

```c#
string firstName;
```

В этом случае вы создаете новую переменную типа `string` с именем `firstName`. С этого момента переменная может содержать только строковые значения.

Вы можете использовать любое имя переменной, которое соответствует принятым в синтаксисе C# правилам именования.

### Правила и соглашения об именах переменных

Среди разработчиков программного обеспечения популярна фраза "Самое сложное в программировании — это придумывать имена". Имя переменной не только должно соответствовать определенным правилам синтаксиса, оно также должно использоваться для того, чтобы сделать код более удобочитаемым и понятным. Порой выбрать подходящее имя бывает весьма непросто!

Ниже приведены основные рекомендации по выбору имен переменных.

- Имена переменных могут содержать буквы, цифры и знаки подчеркивания. Специальные символы, такие как хэш-символ `#` (также называемый символом номера или символом решетки) или символ доллара `$`, запрещены.
- Имена переменных должны начинаться с буквы или знака подчеркивания, но не с цифры.
- В именах переменных учитывается регистр символов. Таким образом, `string Value;` и `string value;` — это две разных переменных.
- В качестве имен переменных **нельзя** использовать ключевые слова C#. Например, вы не можете использовать следующие объявления переменных: `decimal decimal;` или `string string;`.

Существуют соглашения о кодировании, которые помогают обеспечить удобочитаемую и простую идентификацию переменных. По мере разработки больших приложений эти соглашения по программированию помогают отслеживать переменные среди прочего текста.

Ниже приведены некоторые соглашения о программировании для переменных:

- Имена переменных следует задавать с использованием **"верблюжьего" регистра**. Это значит, что первая буква первого слова должна быть строчной, а начало каждого последующего слова должно выделяться прописной буквой. Например, `string thisIsCamelCase;`.
- Имена переменных должны начинаться с алфавитной буквы. Знак подчеркивания также применяется разработчиками в некоторых других целях, поэтому на данный момент мы не будем использовать его.
- Имена переменных должны быть описательными и значимыми в приложении. Как правило, имя переменной должно описывать вид данных, которые она содержит.
- Имя переменной должно состоять из одного или нескольких соединенных слов. Не используйте сокращения или сокращения, так как имя переменной (и, следовательно, ее назначение) может быть неясно для других пользователей, которые читают ваш код.
- В имени переменной не следует указывать ее тип данных. До сих пор можно встретить рекомендации по использованию имен переменных вида `string strValue;`. Этот совет больше не является актуальным.

В качестве примера можно привести переменную `string firstName;`, имя которой соответствует всем правилам и соглашениям и указывает, что в ней будет храниться чье-то имя.

### Примеры имен переменных

Вот несколько примеров объявлений переменных с использованием типов данных, о которые вы узнали на данный момент:

```c#
char userOption;

int gameScore;

decimal particlesPerMillion;

bool processedCustomer;
```

## Резюме

Вот что вы узнали о переменных.

- Переменные используются для временного хранения значений в памяти компьютера.
- Прежде чем использовать переменную, ее необходимо объявить.
- Для этого сначала необходимо указать тип данных, которые будут храниться в ней, а затем присвоить ей имя, соответствующее установленным правилам.

Теперь, когда вы знаете, как объявить переменную, давайте научимся задавать, извлекать и инициализировать значение переменной.

# Упражнение — установка и получение значений переменных

Переменные — это контейнеры для временного хранения данных. Они предназначены для _записи_ и _чтения_ значений. В следующем упражнении вы попробуете выполнить обе эти операции.

## Упражнение — работа с переменными

В этом упражнении вам предстоит объявить переменную, присвоить ей значение, получить это значение и выполнить некоторые другие действия.

### Создание первой переменной

1.  Выделите весь код в редакторе .NET и нажмите клавишу DELETE или BACKSPACE, чтобы удалить его.
2.  В редакторе кода введите следующий код:

    ```c#
    string firstName;
    firstName = "Bob";
    ```

Чтобы объявить переменную, введите тип данных, который вы хотите использовать, а затем имя переменной. Чтобы присвоить значение переменной, используйте _оператор присваивания_, который представляет собой одинарный знак равенства `=`.

> Операция присваивания значения также часто называется установкой или заданием переменной.

### Неправильное присвоение значения переменной

Обратите внимание, что присваивание выполняется справа налево. Другими словами, компилятор C# сначала должен понять значение в правой части оператора присваивания, после чего он сможет выполнить присваивание переменной в левой части оператора присваивания. Если этот порядок нарушен, компилятор C# будет неправильно интерпретировать код.

1.  Измените написанный код, чтобы он соответствовал следующему коду:

    ```c#
    string firstName;
    "Bob" = firstName;
    ```

2.  Теперь выполните код. В консоли вывода появится следующая ошибка:

    ```
    (2,1): error CS0131: The left-hand side of an assignment must be a variable, property or indexer
    ```

### Неправильное назначение значения неверного типа данных переменной

Вы узнали, что C# предназначен для принудительного применения типов. При работе с переменными _применение типов_ означает, что вы не можете назначить значение одного типа данных переменной, объявленной для хранения другого типа данных.

1.  Измените написанный код, чтобы он соответствовал следующему коду:

    ```c#
    int firstName;
    firstName = "Bob";
    ```

2.  Теперь выполните код. В консоли вывода появится следующая ошибка:

    ```
    (2,9): error CS0029: Cannot implicitly convert type 'string' to 'int'

    ```

Это сообщение указывает на действия, которые пытается выполнить компилятор C#. Мы видим, что выполняется попытка "неявно преобразовать" строку "Bob" в целочисленное значение, что сделать нельзя. Несмотря на это, C# попытался выполнить преобразование, но не удалось, так как для слова "Bob" нет числового эквивалента.

Дополнительные сведения о неявном и явном преобразовании типов вы узнаете позже. Сейчас просто помните, что переменная может содержать только значения, соответствующие указанному типу данных.

## Получение значения, хранящегося в переменной

Чтобы извлечь содержащееся в переменной значение, достаточно просто использовать ее имя. В этом примере задается значение переменной, а затем оно извлекается и отображается в консоли.

1.  Измените написанный код, чтобы он соответствовал следующему коду:

    ```c#
    string firstName;
    firstName = "Bob";
    Console.WriteLine(firstName);
    ```

2.  Теперь выполните код. В консоли вывода появятся следующие результаты:

    ```
    Bob
    ```

Операция извлечения значения переменной также часто называется получением переменной.

При написании строк кода вы увидите, что компилятор проверяет код и выявляет возможные ошибки. Компилятор — это отличный инструмент, помогающий быстрее получить правильный код. Теперь, когда вы знакомы с различными типами ошибок, вы можете быстро исправлять ошибки с помощью сообщений об ошибках компилятора.

### Переназначение значения переменной

Вы можете многократно использовать и присваивать значение переменной. Эта концепция показана на следующем примере.

1.  Измените написанный код, чтобы он соответствовал следующему коду:

    ```c#
    string firstName;
    firstName = "Bob";
    Console.WriteLine(firstName);
    firstName = "Liem";
    Console.WriteLine(firstName);
    firstName = "Isabella";
    Console.WriteLine(firstName);
    firstName = "Yasmin";
    Console.WriteLine(firstName);
    ```

2.  Теперь выполните код. В консоли вывода появятся следующие результаты:

    ```
    Bob
    Liem
    Isabella
    Yasmin
    ```

### Инициализация переменной

Прежде чем _получить_ значение из переменной, необходимо _задать_ для переменной значение . В противном случае возникнет ошибка.

1.  Измените код, написанный на шаге 6, следующим образом:

    ```c#
    string firstName;
    Console.WriteLine(firstName);
    ```

2.  Теперь выполните код. В консоли вывода появятся следующие результаты:

    OutputКопировать

    ```
    (2,19): error CS0165: Use of unassigned local variable 'firstName'
    ```

Чтобы избежать возможности неназначенных локальных переменных, рекомендуется задать значение как можно скорее после объявления.

Как правило, объявление и установка значения переменной выполняются в одной строке кода. Такой способ называется _инициализацией_ переменной.

1.  Измените написанный код, чтобы он соответствовал следующему коду:

    ```c#
    string firstName = "Bob";
    Console.WriteLine(firstName);
    ```

2.  Теперь выполните код. Вы должны увидеть следующий результат:

    ```
    Bob
    ```

## Резюме

Вот что вы узнали о работе с переменными до сих пор:

- Прежде чем получать (извлекать) значение переменной, необходимо назначить (задать) ей значение.
- Переменную можно инициализировать, назначив ей значение в момент объявления.
- Назначение осуществляется справа налево.
- В качестве оператора назначения используется одинарный знак равенства.
- Чтобы получить значение переменной, достаточно использовать ее имя.

# Объявление неявно типизированных локальных переменных

Компилятор C# работает в фоновом режиме, чтобы помочь вам при написании кода. Например, он может определять (выводить) тип данных переменной на основе значения, которое присваивается ей при инициализации. В рамках этого модуля вы ознакомитесь с соответствующей функцией, которая называется "неявно типизированные локальные переменные".

## Что представляют собой неявно типизированные локальные переменные?

Локальная переменная с неявным типом создается с помощью `var` ключевое слово за которой следует инициализация переменной. Пример:

```c#
var message = "Hello world!";
```

В этом примере строковая переменная была создана с использованием `var` ключевое слово вместо `string` ключевое слово.

Ключевое слово `var` сообщает компилятору C#, что тип данных _подразумевается_ назначенным значением. После того как тип подразумевается, переменная действует так же, как если бы для его объявления использовался фактический тип данных. Ключевое слово `var` используется для сохранения нажатий клавиш, когда типы являются длинными или когда тип очевиден из контекста.

Ознакомьтесь со следующим примером:

```c#
var message = "Hello world!";
```

Так как переменной `message` немедленно присваивается `string` значение `"Hello World!"`, компилятор C# понимает намерение и обрабатывает каждый экземпляр `message` как экземпляр типа `string`.

Фактически переменная `message` является типом `string` и никогда не может быть изменена. Рассмотрим следующий пример кода:

```
var message = "Hello World!";
message = 10.703m;
```

При выполнении этого кода вы получите следующее сообщение об ошибке.

```
(2,11): error CS0029: Cannot implicitly convert type 'decimal' to 'string'
```

> В других языках программирования ключевое слово `var` используется иначе. В C# переменные присваиваются типу компилятором независимо от того, используете ли вы фактическое имя типа данных или позволяете компилятору подразумевать тип данных. Другими словами, тип фиксируется в момент объявления, в связи с чем переменная в дальнейшем не сможет содержать значения другого типа.

### Переменные, использующие ключевое слово, должны быть инициализированы `var`

Важно понимать, что ключевое слово `var` использует значение, которое присваивается переменной при инициализации. При попытке использовать ключевое слово `var` без инициализации переменной вы получите ошибку во время компиляции кода.

```c#
var message;
```

При попытке выполнить этот код по мере его компиляции вы увидите следующие выходные данные:

```
(1,5): error CS0818: Implicitly-typed variables must be initialized
```

### Зачем необходимо использовать ключевое слово `var`?

Ключевое слово `var` широко используется в сообществе C#. Скорее всего, если вы посмотрите на пример кода в книге или в Интернете, вы увидите `var` , что ключевое слово используется вместо фактического имени типа данных, поэтому важно понимать его использование.

Ключевое слово `var` имеет важное значение в C#. Во многих случаях тип переменной очевиден после ее инициализации. В таких случаях проще использовать `var` ключевое слово. Ключевое слово `var` также может быть полезен при планировании кода для приложения. Когда вы начинаете разрабатывать код для задачи, вы можете не сразу узнать, какой тип данных использовать. Использование `var` поможет вам более динамично разрабатывать решение.

В начале работы рекомендуется продолжать использовать фактическое имя типа данных при объявлении переменных, пока не станет удобнее работать с кодом. Благодаря этому вы точно будете знать тип и назначение элементов вашего кода.

## Резюме

Вот что вы узнали о ключевом слове `var`:

- ключевое слово `var` указывает компилятору на необходимость выведения типа данных переменной на основе значения, используемого при инициализации;
- Ключевое слово `var` вы можете встретить в других примерах кода, но по возможности следует использовать назначение типа данных.

# Выполнение задачи

В этом задании вы напишете код, в котором значения, представленные литералами и переменными, будут объединены в одном сообщении.

### Задача. Отображение литеральных и переменных значений

1.  Создайте новый проект
2.  Сохраните следующие значения в переменных:

    - Bob
    - 3
    - 34.4

    Этим переменным следует присвоить имена, которые описывают их предназначение.

    Убедитесь, что тип данных каждой переменной соответствует сведениям, которые хранятся в ней.

    Наконец, вы объедините переменные с литеральными строками, переданными в последовательность `Console.Write()` команд, чтобы сформировать полное сообщение.

3.  Напишите код в редакторе .NET, чтобы отобразить следующее сообщение:

    ```
    Hello, Bob! You have 3 in your inbox. The temperature is 34.4 celsius.
    ```

    Независимо от того, как вы это делаете, код должен выдавать указанные выходные данные.

# Выводы

Ваша цель состояла в том, чтобы отобразить отформатированное сообщение с помощью сочетания литеральных и переменных значений.

Используя базовый синтаксис C#, вы создали литеральные значения нескольких разных типов данных. Вы объявили переменные, а также задали и извлекли значения из этих переменных. Вы также инициализировали переменные и узнали var , как использовать ключевое слово для неявного ввода переменной путем вывода типа из инициализации.
